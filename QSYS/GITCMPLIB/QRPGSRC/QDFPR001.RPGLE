      /COPY *libl/qcopysrc,hspecs
     *----------------------------------------------------------------
     *   Copyright (C) 2015 BFC Software, Inc. - All Rights Reserved
     *   BFC Software, Inc.
     *   (630) 562-0375
     *----------------------------------------------------------------

     *----------------------------------------------------------------
     *
     *  QDFPR001  Delete stranded ITEMFLD records not in PIRITEM.
     *  04 May 2015
     *  Max Blacknik
     *
     *
     *----------------------------------------------------------------
     *  Revisions
700 A*    05/04/15  MLB  7.00
     *      - Created.
     *
     *----------------------------------------------------------------

     *----------------------------------------------------------------
     *  File Specs
     *----------------------------------------------------------------
     Fitemfld   uf   e           k disk
     Fpiritem   if   e           k disk

     *----------------------------------------------------------------
     ** Variables
     d forever         s              1    inz('1')
     *
     *----------------------------------------------------------------

     *----------------------------------------------------------------
     *  Main line
     *----------------------------------------------------------------
      /free
         dow forever = forever;
           read itemfld;
           if %eof(itemfld);
             leave;
           endif;
           chain (ifwhse:ifitem) piritem;
           if not %found(piritem);
             delete ifrec;
           endif;

         enddo;

         *inlr = *on;
      /end-free

